"use strict";!function(f){var r,v,i,l,n,y,w,a,t,e=(v=400,i=f(r="#cuar-js-content-container"),l=f(".cuar-css-wrapper"),n=f("#cuar-js-collection-gallery",i),y=f("#cuar-js-collection-to-list",i),w=f("#cuar-js-collection-to-grid",i),a=f(".cuar-js-collection-filters-buttons",i),t=function(){var g=!1,m=!1,e=function(){i.width()<1e3?f("body").addClass("tray-rescale"):f("body").removeClass("tray-rescale tray-rescale-left tray-rescale-right")},t=_.debounce(e,250);function a(){if(f("#cuar-js-tray").length&&!f("body").hasClass("disable-tray-rescale")){var e=f("#cuar-js-page-content"),r=null,i=null,l=f("#cuar-js-tray-scroller"),t=0,a=function(){m=!0;var e=f("#cuar-js-tray"),t=f("#cuar-js-page-content");if(i=r=null,e.attr("data-tray-height-substract")&&e.attr("data-tray-height-base")){for(var a=f(window).height(),n=e.data("tray-height-substract").split(","),s=0;s<n.length;s++)r+=f(n[s]).outerHeight(!0);i=a-r}else i=(i=t.height())<v?v:i;var o=(i=e.attr("data-tray-height-minimum")?i<e.attr("data-tray-height-minimum")?e.attr("data-tray-height-minimum"):i:i<v?v:i)-(e.outerHeight(!0)-e.innerHeight());e.height(o),t.height(i-50),l.length||(m=!1)};if(a(),l.length){var n=function(e){m=!0;f("#cuar-js-tray"),f("#cuar-js-page-content");!0===e&&(l=f("#cuar-js-tray-scroller-"+t),a()),setTimeout(function(){f("#cuar-js-page-content-wrapper").height()<=f("#cuar-js-tray-scroller-wrapper").height()?(console.log("first case: content smaller than sidebar"),l.height(f("#cuar-js-page-content").outerHeight())):f(window).innerHeight()>=f("#cuar-js-page-content-wrapper").height()+r?(console.log("second case: content taller than sidebar AND whole area smaller than the window height"),l.height(i-(l.outerHeight(!0)-l.innerHeight()))):(console.log("third case: content taller than sidebar BUT the whole area is taller than the window height"),l.height(f("#cuar-js-page-content-wrapper").height())),setTimeout(function(){console.log("lets rebuild the scroll !"),l.scroller()},200)},800),m=!1};setTimeout(function(){n(!1)},400);var s=function(){l.scroller("destroy").removeClass("scroller").closest(".scroller-bar").remove(),t+=1,f("#cuar-js-tray-scroller-wrapper").parent().hasClass("scroller-content")&&f("#cuar-js-tray-scroller-wrapper").unwrap(),f("#cuar-js-tray-scroller-wrapper").parent().hasClass("tray-scroller")&&f("#cuar-js-tray-scroller-wrapper").unwrap(),f("#cuar-js-tray-scroller-wrapper").wrap("<div id='cuar-js-tray-scroller-"+t+"' class='tray-scroller'></div>"),setTimeout(function(){n(!0)},800)};if(f("#cuar-js-page-content-wrapper").on("webkitTransitionEnd transitionend oTransitionEnd trayRemakeAll",function(e){var t=f("#cuar-js-content-container").innerWidth();f("body").hasClass("disable-tray-rescale")&&t<700||t<550?console.log("wont relayout the sidebar, screen too small"):"trayRemakeAll"!==e.type&&("webkitTransitionEnd"!==e.type&&"transitionend"!==e.type&&"oTransitionEnd"!==e.type||void 0===e.target.id||"cuar-js-page-content-wrapper"!==e.target.id)||(console.log("main content has been resized !"),!1===m&&(console.log("starting relayout trays after main content resize !"),s()))}),!1===g){y.on("click",function(){f("#cuar-js-page-content-wrapper").trigger("trayRemakeAll")}),w.on("click",function(){f("#cuar-js-page-content-wrapper").trigger("trayRemakeAll")});var o=_.debounce(function(){f("#cuar-js-page-content-wrapper").trigger("trayRemakeAll")},800);f(window).resize(o),g=!0}}else e.height(i+50)}var c=f("#cuar-js-tray"),d=f("#cuar-js-tray-scroller-wrapper"),u=!1;function h(){var e=f("#cuar-js-content-container").innerWidth();f("body").hasClass("disable-tray-rescale")&&e<700||e<550?"desktop"!==u&&!1!==u||(f(c.data("tray-mobile")).empty(),d.appendTo(f(c.data("tray-mobile"))),c.hide(),u="mobile"):"mobile"===u&&(c.empty().show(),d.appendTo(c),u="desktop")}h();var p=_.debounce(function(){h()},200);f(window).resize(p)}f("body").hasClass("disable-tray-rescale")||(f(window).on("resize",t),e()),n.length?i.on("cuar:mixitup:initialized",a):a()},{init:function(){var e;f.fn.disableSelection=function(){return this.attr("unselectable","on").css("user-select","none").on("selectstart",!1)},f.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()},function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(0<t||navigator.userAgent.match(/Trident.*rv\:11\./)){var a=parseInt(e.substring(t+5,e.indexOf(".",t)));9===a&&f("body").addClass("no-js ie"+a)}}(),e=function(){var t=f(".cuar-menu-container .nav-container > ul",l),a=t.children("li"),e="menu-plus",n=t.children("li."+e),s=n.find("#cuar-menu-plus-clone > li"),o=a.length-1;a.not("."+e).each(function(e){0!==e&&a.eq(e-1).hasClass("just-hide")||(f("> .dropdown-menu",a.eq(e)).addClass("dropdown-menu-right"),0<e&&f("> .dropdown-menu",a.eq(e-1)).removeClass("dropdown-menu-right")),t.width()-n.width()<f(this).offset().left+f(this).width()-t.offset().left?(a.eq(e).addClass("just-hide"),s.eq(e).removeClass("hidden"),e!==a.length-1&&a.eq(e-1).hasClass("just-hide")||f("> .dropdown-menu",a.eq(e-1)).addClass("dropdown-menu-right")):(a.eq(e).removeClass("just-hide"),s.eq(e).addClass("hidden")),e!==o-1||f(this).hasClass("just-hide")?n.removeClass("just-hide"):n.addClass("just-hide")})},f(".cuar-menu-container .nav-container > ul").append('<li class="menu-plus"><a href="#" data-toggle="dropdown" class="dropdown-toggle">+</a></li>').clone().appendTo(".cuar-menu-container .nav-container > ul > .menu-plus").attr("id","cuar-menu-plus-clone"),f("#cuar-menu-plus-clone .dropdown").removeClass("dropdown").addClass("dropdown-submenu"),f("#cuar-menu-plus-clone > li.menu-plus").addClass("hidden"),f(".cuar-menu-container .nav-container > ul > .menu-plus > ul").removeClass().addClass("dropdown-menu dropdown-menu-right animated animated-shorter fadeIn"),f(".cuar-menu-container .nav-container > ul > .menu-plus > a").addClass("dropdown-toggle").attr("data-toggle","dropdown"),e(),f(window).on("resize",function(){e()}),f(".navbar-search").on("click",function(e){var t=f(this),a=t.find("input"),n=t.find(".search-remove");f("body.mobile-view").length&&(t.addClass("search-open"),n.length||t.append('<div class="search-remove"></div>'),setTimeout(function(){t.find(".search-remove").fadeIn(),a.focus().one("keydown",function(){f(this).val("")})},250),"search-remove"===f(e.target).attr("class")&&t.removeClass("search-open").find(".search-remove").remove())}),function(){if(f.isFunction(f.fn.select2)&&f(".cuar-js-select-single",l).each(function(){f(this).addClass("select2-single").select2({dropdownParent:f(this).parent(),width:"100%",minimumResultsForSearch:-1})}),f.isFunction(f.fn.tooltip)){var e=f("[data-toggle=tooltip]",l);e.length&&(e.parents("#sidebar_left")?e.tooltip({container:i,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}):e.tooltip({container:i}))}if(f.isFunction(f.fn.popover)){var t=f("[data-toggle=popover]",i);t.length&&t.popover({container:r})}f(".dropdown-menu.dropdown-persist",l).on("click",function(e){e.stopPropagation()}),f(".dropdown-menu .nav-tabs li a",l).on("click",function(e){e.preventDefault(),e.stopPropagation(),f(this).tab("show")}),f(".dropdown-menu .btn-group-nav a",l).on("click",function(e){e.preventDefault(),e.stopPropagation(),f(this).siblings("a").removeClass("active").end().addClass("active").tab("show")});var a=f(".btn-states",l);if(a.length&&a.on("click",function(){f(this).addClass("active").siblings().removeClass("active")}),f.isFunction(f.fn.smoothScroll)){var n=f("[data-smoothscroll]",l);n.length&&n.each(function(e,t){var a=f(t),n=a.data("smoothscroll");a.find("a").smoothScroll({offset:n})})}if(f.isFunction(f.fn.slick)){var s=f(".cuar-js-slick-responsive",i);if(s.length){var o=s.find(".slick-slide").length;s.slick({autoplay:!1,centerMode:!0,dots:!0,infinite:!0,respondTo:"slider",speed:300,slidesToShow:o<4?o:4,slidesToScroll:o<4?o:4,responsive:[{breakpoint:1024,settings:{slidesToShow:o<3?2:3,slidesToScroll:o<3?2:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:o<2?1:2,slidesToScroll:o<2?1:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})}}}(),t(),function(){if(0<n.length){f.fn.multiselect&&a.multiselect({buttonClass:"btn btn-default"});var e=n.data("type")+"-collection-layout",t="undefined"!=typeof Cookies?Cookies.get(e):"";"list"!==t&&"grid"!==t&&(t=void 0!==n.data("collection-layout")&&null!==n.data("collection-layout")?n.data("collection-layout"):cuar.default_collection_view[n.data("type")]),"list"===t?(n.addClass(t).removeClass("grid"),y.addClass("btn-primary").removeClass("btn-default"),w.addClass("btn-default").removeClass("btn-primary")):(n.addClass(t).removeClass("list"),y.addClass("btn-default").removeClass("btn-primary"),w.addClass("btn-primary").removeClass("btn-default")),n.mixItUp({controls:{enable:!1},animation:{duration:400,effects:"fade translateZ(-360px) stagger(45ms)",easing:"ease"},callbacks:{onMixEnd:function(){setTimeout(function(){i.trigger("cuar:mixitup:initialized")},500)}}}),y.on("click",function(){"undefined"!=typeof Cookies?Cookies.set(e,"list"):console.log("[ WPCA - Warning ] jquery.Cookie.min.js missing"),f(this).addClass("btn-primary").siblings(".btn").addClass("btn-default").removeClass("btn-primary"),n.hasClass("list")||n.mixItUp("changeLayout",{display:"block",containerClass:"list"},function(e){n.removeClass("grid")})}),w.on("click",function(){"undefined"!=typeof Cookies?Cookies.set(e,"grid"):console.log("[ WPCA - Warning ] jquery.Cookie.min.js missing"),f(this).addClass("btn-primary").siblings(".btn").addClass("btn-default").removeClass("btn-primary"),n.hasClass("grid")||n.mixItUp("changeLayout",{display:"inline-block",containerClass:"grid"},function(e){n.removeClass("list")})})}}()}});f(document).ready(function(){e.init()})}(jQuery);
//# sourceMappingURL=main.js.map